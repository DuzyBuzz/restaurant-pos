<ion-content [fullscreen]="true" class="flex h-screen items-center justify-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 dark:from-gray-900 dark:via-gray-800 dark:to-gray-700 bg-white dark:bg-gray-900">
  <div class="w-full max-w-md mx-auto p-8 bg-white/90 dark:bg-gray-800/90 rounded-2xl shadow-2xl flex flex-col items-center">
    <img src="assets/images/flexi-dev.jpg" alt="Flexi Dev Logo" class="w-24 h-24 mb-6 rounded-full shadow-lg border-4 border-white dark:border-gray-800">
    <h1 class="text-3xl font-extrabold mb-2 text-blue-900 dark:text-blue-200 tracking-tight">CRUD</h1>
    <!-- CREATE FORM -->
    <form class="w-full flex flex-col gap-4" (ngSubmit)="addItem()">
      <ion-item class="dark:bg-gray-900 dark:text-gray-100 rounded">
        <ion-label position="floating" class="dark:text-gray-300">Item Name</ion-label>
        <ion-input type="text" required name="itemName" [(ngModel)]="itemName"></ion-input>
      </ion-item>
      <ion-item class="dark:bg-gray-900 dark:text-gray-100 rounded">
        <ion-label position="floating" class="dark:text-gray-300">Description</ion-label>
        <ion-input type="text" required name="description" [(ngModel)]="description"></ion-input>
      </ion-item>
      <ion-item class="dark:bg-gray-900 dark:text-gray-100 rounded">
        <ion-label position="floating" class="dark:text-gray-300">Price</ion-label>
        <ion-input type="number" required name="price" [(ngModel)]="price"></ion-input>
      </ion-item>
      <ion-button expand="block" color="primary" class="w-full h-12 text-base font-semibold mt-4" type="submit">
        Add Item
      </ion-button>
    </form>

    <!-- READ, UPDATE, DELETE LIST -->
    <div class="w-full mt-6 space-y-3">
      <div *ngFor="let item of items" class="bg-white/90 dark:bg-gray-800/90 rounded-xl shadow p-4 flex flex-col">
      <div *ngIf="editId !== item.id" class="w-full flex justify-between items-center">
        <span class="text-blue-900 dark:text-blue-200 font-semibold">
        {{item.item}} - {{item.description}} - ${{item.price}}
        </span>
        <div>
        <button type="button" class="ml-2 text-blue-600 hover:text-blue-800" (click)="startEdit(item)">
          <span class="material-icons text-base">edit</span>
        </button>
        <button type="button" class="ml-2 text-red-600 hover:text-red-800" (click)="deleteItem(item.id)">
          <span class="material-icons text-base">delete</span>
        </button>
        </div>
      </div>
      <!-- If editing, show update form -->
      <div *ngIf="editId === item.id" class="w-full flex flex-col gap-2">
        <input [(ngModel)]="editItemName" name="editItemName" class="bg-white rounded mb-1 p-2 border" placeholder="Item Name" />
        <input [(ngModel)]="editDescription" name="editDescription" class="bg-white rounded mb-1 p-2 border" placeholder="Description" />
        <input type="number" [(ngModel)]="editPrice" name="editPrice" class="bg-white rounded mb-1 p-2 border" placeholder="Price" />
        <div class="flex gap-2 mt-2">
        <button type="button" class="bg-blue-600 text-white px-3 py-1 rounded" (click)="updateItem()">Save</button>
        <button type="button" class="bg-gray-400 text-white px-3 py-1 rounded" (click)="cancelEdit()">Cancel</button>
        </div>
      </div>
      </div>
    </div>
  </div>
</ion-content>
